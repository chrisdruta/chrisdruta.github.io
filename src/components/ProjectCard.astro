---
interface Props {
    title: string,
    desc: string,
    links: {
        github: string,
        website?: string,
        blog?: string,
        report?: string,
    },
    image?: {
        src: string,
        alt: string,
    }
}

import { Image } from "astro:assets";

const { title, desc, links, image } = Astro.props;
const [user, repo]  = links.github.split("/").splice(-2);
---
<div class="prose p-4 w-80 max-h-96">
    <hr class="my-2.5" />
    <p class="prose-xl m-0">{title}</p>
    <p class="prose-sm my-2.5 min-h-8">{desc}</p>
    <div class="flex flex-row">
        {links.website && <a href={links.website} target="_blank" class="m-1">Website</a>}
        <a href={links.github} target="_blank" class="m-1">Github</a>
        {links.blog && <a href={links.blog} class="m-1">Blog</a>}
        {links.report && <a href={links.report} target="_blank" class="m-1">Report</a>}
        <iframe class="self-end mb-1 ml-3"
            src={`https://ghbtns.com/github-btn.html?user=${user}&repo=${repo}&type=star&count=true`}
            frameborder="0" scrolling="0"
            width="100" height="20"
            title="GitHub" 
        />
    </div>

    {image && <Image class="rounded max-h-48 transition ease-in duration-75 delay-200 hover:scale-200 z-0 hover:z-50"
        src={image.src}
        alt={image.alt}
    />}
</div>
